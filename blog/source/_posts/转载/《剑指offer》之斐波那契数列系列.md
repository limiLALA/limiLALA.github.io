layout: post
title: 《剑指offer》之斐波那契数列系列
author: QuellanAn
categories: 
  - 算法
tags:
  - 《剑指offer》
  - 算法
---

# 前言
斐波那契数列 算是比较常见的算法题了。
f(1)=1;
f(2)=1;
f(3)=2;
...
f(n)=f(n-1)+f(n-2);
一般采用递归的思想。今天做了几个关于斐波那契数列，都记录下来。

# 题目一
大家都知道斐波那契数列，现在要求输入一个整数n，请你输出斐波那契数列的第n项（从0开始，第0项为0）。
n<=39

这个是最原始的，就是上面我说的斐波那契数列。代码实现如下：
```
public int Fibonacci(int n) {
        if(n<0){
            return 0;
        }else if(n==1 || n==2){
            return 1;
        }
        return Fibonacci(n-1)+Fibonacci(n-2);
    }
```
可以看到非常简单，但是递归算法虽然方便，但是耗时比较长，我们也可以用循环实现。
```
public int Fibonacci(int n) {

        if(n<0){
            return 0;
        }else if(n==1 || n==2){
            return 1;
        }
        int a=1;
        int b=1;
        int c=0;
        for(int i=3;i<=n;i++){
            c=a+b;
            a=b;
            b=c;
        }
        return c;
    }
```
用循环实现的话，减少了时间损耗，增加了空间成本。所以具体情况具体分析还得。


# 题目二
一只青蛙一次可以跳上1级台阶，也可以跳上2级。求该青蛙跳上一个n级的台阶总共有多少种跳法（先后次序不同算不同的结果）。

这是一道斐波那契数列，我们读题可以发现。
只有一个台阶，一种跳法。
f(1)=1;
只要两个台阶，两种跳法。
f(2)=2；

只要三个台阶，从第一个台阶跳2步上来，或者从第二个台阶跳一步上来。
f(3)=f(1)+f(2)

n 个台阶，从n-1台阶跳一步上来，或者从n-2 台阶跳2步上来。
f(n)=f(n-1)+f(n-2);
所以这就是一道典型的斐波那契数列。代码和上面一样。

# 题目三
一只青蛙一次可以跳上1级台阶，也可以跳上2级……它也可以跳上n级。求该青蛙跳上一个n级的台阶总共有多少种跳法。

在上面的基础上，可以跳n个台阶。
f(n)=f(n-1)+f(n-2)+f(n-3)+......+f(3)+f(2)+f(1);
f(n-1)=f(n-2)+f(n-3)+......+f(3)+f(2)+f(1);

所以上试减下试。
f(n)-f(n-1)=f(n-1)+f(n-2)+f(n-3)+......+f(3)+f(2)+f(1)-[f(n-2)+f(n-3)+......+f(3)+f(2)+f(1)];
 所以：
 f(n)-f(n-1)=f(n-1)；
 f(n)=2f(n-1);n>1
所以代码为：
```
public int JumpFloorII(int target) {
        if(target<1) return 0;
    	else if (target==1) return 1;
        else return 2*JumpFloorII(target-1);
    }
```

# 题目四
我们可以用2*1的小矩形横着或者竖着去覆盖更大的矩形。请问用n个2*1的小矩形无重叠地覆盖一个2*n的大矩形，总共有多少种方法？

这道题目相对前面几道，比较难理解是斐波那契数列。
我们来分析一下。
当n=1 时，只有一种情况。
f(1)=1;
当n=2时，2个2*1的小矩形，拼成2*2的大矩形。有2种方法。
f(2)=2;
当n=3时，3个2*1的小矩形，拼成2*3的大矩形。
这个时候我们就要想下，2*3的矩形是一个2*1 和一个2*2的矩形组成的。
当n=5时，5个2*1的小矩形，拼成2*5的大矩形。
这个时候我们就要想下，2*5的矩形是一个2*4的矩形加一个2*1的矩形组成，或者一个2*3的矩形加一个2*2 的矩形组成。

所以可以推测出还是一个斐波那契数列。
f(n)=f(n-1)+f(n-2);

代码和最开始一样，就不重复啦。
